{"version":3,"file":"2-form.js","sources":["../src/js/localStorageAPI.js","../src/js/2-form.js"],"sourcesContent":["export function saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nexport function loadFromLS(key) {\n  const body = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(body);\n    return data;\n  } catch {\n    return body;\n  }\n}\n","import { loadFromLS, saveToLS } from './localStorageAPI';\nconst LS_USER_DATA_KEY = 'userData';\nconst refs = { form: document.querySelector('.form-js') };\nconst formData = { email: '', message: '' };\n\nconst savedData = loadFromLS(LS_USER_DATA_KEY);\nconsole.log(savedData);\n\nif (savedData) {\n  refs.form.elements.email.value = savedData.email;\n  refs.form.elements.message.value = savedData.message;\n}\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(e) {\n  const email = e.currentTarget.elements.email.value;\n  const message = e.currentTarget.elements.message.value;\n\n  formData.email = email;\n  formData.message = message;\n  saveToLS(LS_USER_DATA_KEY, formData);\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const data = loadFromLS(LS_USER_DATA_KEY);\n\n  const isEmptyField = !data || Object.values(data).some(item => !item);\n  if (isEmptyField) {\n    console.log('Fill please all fields');\n    return;\n  }\n\n  console.log(data);\n  localStorage.removeItem(LS_USER_DATA_KEY);\n  e.target.reset();\n}\n"],"names":["saveToLS","key","value","jsonData","loadFromLS","body","LS_USER_DATA_KEY","refs","formData","savedData","onFormInput","onFormSubmit","e","email","message","data","item"],"mappings":"wFAAO,SAASA,EAASC,EAAKC,EAAO,CACnC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEO,SAASC,EAAWH,EAAK,CAC9B,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMI,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CCZA,MAAMC,EAAmB,WACnBC,EAAO,CAAE,KAAM,SAAS,cAAc,UAAU,CAAC,EACjDC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAYL,EAAWE,CAAgB,EAC7C,QAAQ,IAAIG,CAAS,EAEjBA,IACFF,EAAK,KAAK,SAAS,MAAM,MAAQE,EAAU,MAC3CF,EAAK,KAAK,SAAS,QAAQ,MAAQE,EAAU,SAG/CF,EAAK,KAAK,iBAAiB,QAASG,CAAW,EAC/CH,EAAK,KAAK,iBAAiB,SAAUI,CAAY,EAEjD,SAASD,EAAYE,EAAG,CACtB,MAAMC,EAAQD,EAAE,cAAc,SAAS,MAAM,MACvCE,EAAUF,EAAE,cAAc,SAAS,QAAQ,MAEjDJ,EAAS,MAAQK,EACjBL,EAAS,QAAUM,EACnBd,EAASM,EAAkBE,CAAQ,CACrC,CAEA,SAASG,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMG,EAAOX,EAAWE,CAAgB,EAGxC,GADqB,CAACS,GAAQ,OAAO,OAAOA,CAAI,EAAE,KAAKC,GAAQ,CAACA,CAAI,EAClD,CAChB,QAAQ,IAAI,wBAAwB,EACpC,MACD,CAED,QAAQ,IAAID,CAAI,EAChB,aAAa,WAAWT,CAAgB,EACxCM,EAAE,OAAO,OACX"}